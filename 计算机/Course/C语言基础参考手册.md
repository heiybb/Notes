---
title: C语言基础参考手册
layout: post
tag: [C,参考手册]
---

这是C语言的基础参考手册，不是教程，我会尽量将所有的C语言知识点都写入这篇文章（标准库会单独做一篇文章），所以这篇文章会不断更新。这篇文章主要是给很久未接触C或新接触C的程序员为了快速构建项目时看的（当然，它很基础，所以刚学编程的也能看），如果你想深入了解C的一些特性或语法特点，可以看我的这篇[文章](C陷阱)

## C标准史

```
1989：J11于1983年开始起草的C标准草案完成且通过ANSI，从而成为美国标准，即C89（后面如果不加声明，默认以此为标准）
1990：C89通过ISO正式成为全球标准，即C90——对C89在排版上有一点区别，技术无区别
1994：对C90进行勘误
1995：对C90进行很少的扩充，即C95
1996：对C95进行勘误
1999：对C95进一步扩充（改动较大），即C99，但目前大部分编译器并不能完全支持C99
```

## 关键字（C89共32个关键字，C99共37个关键字）

```
存储属性关键字（4个）
  auto：自动局部变量——默认隐藏，在函数体中碰见被定义后分配空间，函数体完成后撤销
  static：静态局部变量——只在第一次编译时进行一次初始化，始终占用内存单元
  register：寄存器变量——变量直接放在CPU的寄存器中
  extern：外部变量，提示在其它函数体或文件中寻找定义的变量——公用此变量

数据类型关键字（12个）
  int、short、long、float、double、char、struct、union（联合类型）、enum（枚举类型）、void、unsinged、singed

控制语句关键字（12个关键字，9种控制语句）
  条件控制：if语句【if、else】、switch语句【switch、case、default】
  循环控制：do-while语句【do、while】、while语句、for语句【for】
  跳转语句：return语句【return】、goto语句【goto】、continue语句【continue】、break语句【break】

C89其它关键字（4个）
  typedef：变量取别名——相当于一个函数
  const：声明只读变量
  volatile：声明变量可隐含改变
  sizeof：计算数据长度——相当于一个函数

C99新增关键字（5个）
  restrict：用来限定指针，表明指针是访问一个数据对象的唯一且初始化对象
  inline：内联函数关键字，提高编译器效率
  _Complex：复数存储类型关键字
  _Imaginary：虚数存储类型关键字
  _Bool：bool存储类型关键字
```


## 运算符类型（结合方向）（运算符个数）

```
【共44个运算符，按优先级排序，从上往下优先级降低，同级相等】


初等运算符（左到右）（4）：( )   [ ]   .   ->（连接指针变量与结构体成员）
单目运算符（右到左）（9）：!   ~（位反）   ++   --   -   *   &   sizeof  =   ( )（用于强制类型转换）
算数运算符（左到右）（3）：*   /   %
算数运算符（左到右）（2）：+   -
位运算符（左到右）（2）：<<（位左移）   >>（位右移）
关系运算符（左到右）（4）：>   >=   <   <=
关系运算符（左到右）（2）：==   !=
位运算符（左到右）（1）：&（位与）
位运算符（左到右）（1）：^（位异或）
位运算符（左到右）（1）：|（位或）
逻辑运算符（左到右）（1）：&&
逻辑运算符（左到右）（1）：||
条件运算符（右到左）（1）：?:（条件求值）
赋值运算符（右到左）（11）：=   +=   -=   *=   %=   >>=   <<=   &=   ^=   |=   /=
逗号运算符（左到右）（1）：,（顺序求值）
```





## 用户定制数据类型

结构体类型【struct】：
基本类型，但不同于数组，其名不代表指针

共用体类型【union】：

和结构体几乎一样，只是共用体类型允许不同类型的成员占用同一块内存空间，但每一瞬间只能有一个成员在内存单元里面，默认是最后一次存放的成员放在里面，成员地址相同，但不能初始化，引用时为组名加点再加成员名但现在机器硬件支持很快，不必担心内存的问题

枚举类型【enum】：

定义方法和前两者一样，只是{}内面是一个个常量名，不能赋值，但可以初始化，在没有初始化时，默认一个成员的值为上一个成员的值加1，而最开始的值在未初始化时赋值0，成员引用时直接引用成员名即可，而对于新的枚举类型定义的变量，实际上枚举就是一个宏的集合，且在C++中，由于引进了类的定义，所以对作用域的范围就有了很强的要求，则枚举就是把范围限定在类里面

    自定义类型名：
        【typedef】，在移植的时候不会因为数据定义类型在不同系统上所占字节不同而一个一个的修改定义的长短（long或short），只需在自定义类型名中修改一次即可，功能类似于预处理信息的宏定义

    位段：
        就是结构体内部的部分成员发生改变，对字节进行细化直到位，防止内存的浪费，但函数内部定义成员时为（类型 位段名1：位段长度1；），定义类型时只能用int、unsigned，一个字节中无名位段被空出，不能访问（以备日后之需），位段长度为零表示其后位段从下一字节开始存放，位段长度不能超过整型的4*8位






## 注释：

```
//：单行注释，C99中引入

/**/：默认注释方式
```

## 变参

```
#include <stdarg.h>

type operName(type firstarg, ...){
    va_list ptr;
    va_start(ptr, firstarg);
    va_arg(ptr,nexttype);    //切换到下一个参数，返回下一个参数的值
    va_end(ptr);
}
```
